{"version":3,"sources":["../../src/pages/asignacion-repartos/asignacion-repartos.module.ts","../../src/pages/asignacion-repartos/asignacion-repartos.ts","../../src/models/entrega.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AsignacionRepartosPage } from './asignacion-repartos';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AsignacionRepartosPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AsignacionRepartosPage),\r\n  ],\r\n})\r\nexport class AsignacionRepartosPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/asignacion-repartos/asignacion-repartos.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, App, AlertController } from 'ionic-angular';\r\nimport { LoginPage } from '../../pages/login/login';\r\nimport { TipoUsuario, Usuario} from '../../models/usuario';\r\nimport {FirebaseDbProvider} from '../../providers/firebase-db/firebase-db';\r\nimport { Entrega} from '../../models/entrega';\r\nimport { ToastController } from 'ionic-angular';\r\n\r\n\r\n/**\r\n * Generated class for the AsignacionRepartosPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-asignacion-repartos',\r\n  templateUrl: 'asignacion-repartos.html',\r\n})\r\nexport class AsignacionRepartosPage {\r\n\r\n\tlistaEntregas: any;\r\n\tlistaUsuarios: any;\r\n\tasignaciones:any[] = [null,null,null,null];\r\n\r\n\tconstructor(public navCtrl: NavController, public navParams: NavParams, public app: App, public dbFirebase:FirebaseDbProvider, public toastCtrl: ToastController) {\r\n\t\t//Limpiamos y creamos las entregas en la BD\r\n\t\t//this.borrarEntregas();\r\n\t\t//this.crearEntregas();\r\n\t}\r\n  \r\n\tcrearEntregas() {\r\n\t\t//Entregas\r\n\t\tlet entrega1:Entrega = new Entrega(1,\"Joan\",\"687218832\",\"Calle Mayor 15 2D\",1,\"12:00 - 14:00\",\"5kg\");\r\n\t\tthis.dbFirebase.guardaEntrega(entrega1);\r\n\t\t\r\n\t\tlet entrega2:Entrega = new Entrega(2,'Álvaro','633444567','Calle Rio Ebro 5 1D',3,'15:00 - 17:00','8kg');\r\n\t\tthis.dbFirebase.guardaEntrega(entrega2);\r\n\t\t\r\n\t\tlet entrega3:Entrega = new Entrega(3,'Ana','687252129','Calle Abedul 24 4A',1,'11:00 - 14:00','2kg');\r\n\t\tthis.dbFirebase.guardaEntrega(entrega3);\r\n\t\t\r\n\t\tlet entrega4:Entrega = new Entrega(4,'Bart','669444012','Calle Falsa 123',2,'11:00 - 13:00','12kg');\r\n\t\tthis.dbFirebase.guardaEntrega(entrega4);\t\r\n\t}\r\n\t\r\n\tborrarEntregas() {\r\n\t\tthis.dbFirebase.delEntrega(1);\r\n\t\tthis.dbFirebase.delEntrega(2);\r\n\t\tthis.dbFirebase.delEntrega(3);\r\n\t\tthis.dbFirebase.delEntrega(4);\r\n\t}\r\n\r\n\tionViewDidLoad() {\r\n\t\tconsole.log('ionViewDidLoad AsignacionRepartosPage');\r\n\t}\t\r\n\r\n\tgoToLoginPage() {\r\n\t\tconst root = this.app.getRootNav();\r\n\t\troot.popToRoot();\r\n\t}\r\n  \r\n\tionViewDidEnter(){\r\n\t\tthis.dbFirebase.getEntregas().subscribe(listaEntregas=>{this.listaEntregas=listaEntregas;});\r\n\t\tthis.dbFirebase.getUsuarios().subscribe(listaUsuarios=>{this.listaUsuarios=listaUsuarios;});\r\n\t}\r\n\t\r\n\tgetRepartidorName(idEntrega: number): string {\r\n\t\tfor (var i = 0; i < this.listaEntregas.length; i++) {\r\n\t\t\tif (this.listaEntregas[i].id === idEntrega) {\r\n\t\t\t\tif (this.listaEntregas[i].repartidor == null) {\r\n\t\t\t\t\treturn \"no asignado\";\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn this.listaEntregas[i].repartidor.nombre;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tisRepartidor(usuario: Usuario): boolean {\r\n\t\tif (usuario.tipo === TipoUsuario.Repartidor) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfinAsignacionManual() {\r\n\t\tfor (var i = 0; i < this.asignaciones.length; i++) {\r\n\t\t\tif (this.asignaciones[i] != null) {\r\n\t\t\t\tthis.listaEntregas[i].repartidor = this.listaUsuarios[this.asignaciones[i] - 1];\r\n\t\t\t\tthis.dbFirebase.guardaEntrega(this.listaEntregas[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.asignacionManualMensaje();\r\n\t}\r\n\t\r\n\tasignacionAutomaticaMensaje() {\r\n\t\tlet toast = this.toastCtrl.create({\r\n\t\t  message: 'Funcionalidad no implementada',\r\n\t\t  duration: 3000\r\n\t\t});\r\n\t\ttoast.present();\r\n\t}\r\n\t\r\n\tasignacionManualMensaje() {\r\n\t\tlet toast = this.toastCtrl.create({\r\n\t\t  message: 'Asignacion manual completada con éxito',\r\n\t\t  duration: 3000\r\n\t\t});\r\n\t\ttoast.present();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/asignacion-repartos/asignacion-repartos.ts","import {TipoUsuario, Usuario} from '../models/usuario';\r\n\r\nexport enum TipoIncidencia {\t\r\n\tDireccionErronea,\r\n\tClienteAusente,\r\n\tPaqueteMalasCondiciones,\r\n\tEntregaRehusada,\r\n\tOtraIncidencia,\r\n\tSinIncidencia\r\n}\r\n\r\nexport class Entrega {\r\n\tid: number;\r\n\trepartidor: Usuario;\r\n\tnombreReceptor: string;\r\n\ttelefonoReceptor: string;\r\n\tdireccion: string;\r\n\tnumeroBultos: number;\r\n\tfranjaHoraria: string;\r\n\tpesoTotal: string;\r\n\tincidencia: TipoIncidencia;\r\n\t\r\n\tconstructor(id: number, nombreReceptor: string, telefonoReceptor: string, direccion: string, numeroBultos: number, franjaHoraria: string, pesoTotal: string) {\r\n\t\tthis.id = id;\r\n\t\tthis.repartidor = null;\r\n\t\tthis.nombreReceptor = nombreReceptor;\r\n\t\tthis.telefonoReceptor = telefonoReceptor;\r\n\t\tthis.direccion = direccion;\r\n\t\tthis.numeroBultos = numeroBultos;\r\n\t\tthis.franjaHoraria = franjaHoraria;\r\n\t\tthis.pesoTotal = pesoTotal;\r\n\t\tthis.incidencia = TipoIncidencia.SinIncidencia;\r\n\t}\r\n\t\r\n\tpublic getId(): number {\r\n\t\treturn this.id;\r\n\t}\r\n\t\r\n\tpublic getRepartidorName(): string {\r\n\t\tif (this.repartidor == null) {\r\n\t\t\treturn \"no asignado\";\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn this.repartidor.getNombre();\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/entrega.ts"],"sourceRoot":""}